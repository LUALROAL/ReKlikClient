
<div class="container mx-auto p-4">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Gestión de Compañías</h1>
    <button (click)="openCreateModal()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
      Crear Compañía
    </button>
  </div>

  <!-- Tabla de Compañías -->
  <div class="overflow-x-auto bg-white shadow-md rounded-lg">
    <table class="min-w-full">
      <thead class="bg-gray-200">
        <tr>
          <th class="py-3 px-6 text-left">Nombre</th>
          <th class="py-3 px-6 text-left">Email</th>
          <th class="py-3 px-6 text-left">Contacto</th>
          <th class="py-3 px-6 text-left">Teléfono</th>
          <th class="py-3 px-6 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody class="text-gray-700">
        <tr *ngFor="let company of companies" class="border-b">
          <td class="py-3 px-6">{{ company.name }}</td>
          <td class="py-3 px-6">{{ company.email }}</td>
          <td class="py-3 px-6">{{ company.contactPerson }}</td>
          <td class="py-3 px-6">{{ company.phone }}</td>
          <td class="py-3 px-6 text-center">
            <button (click)="openEditModal(company)" class="text-blue-500 hover:underline mr-4">Editar</button>
            <button (click)="deleteCompany(company.id)" class="text-red-500 hover:underline">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

<!-- Modal para Crear/Editar Compañía -->
<div *ngIf="isModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-lg">
    <h2 class="text-xl font-bold mb-4">{{ isEditing ? 'Editar' : 'Crear' }} Compañía</h2>
    <form [formGroup]="companyForm" (ngSubmit)="saveCompany()">
      
      <div class="mb-4">
        <label for="name" class="block text-sm font-medium text-gray-700">Nombre</label>
        <input type="text" id="name" formControlName="name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
      </div>

      <div class="mb-4">
        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
        <input type="email" id="email" formControlName="email" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
      </div>

      <div class="mb-4">
        <label for="contactPerson" class="block text-sm font-medium text-gray-700">Persona de Contacto</label>
        <input type="text" id="contactPerson" formControlName="contactPerson" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
      </div>

      <div class="mb-4">
        <label for="phone" class="block text-sm font-medium text-gray-700">Teléfono</label>
        <input type="text" id="phone" formControlName="phone" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
      </div>

      <div class="mb-4">
        <label for="address" class="block text-sm font-medium text-gray-700">Dirección</label>
        <input type="text" id="address" formControlName="address" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
      </div>

      <div class="flex justify-end mt-6">
        <button type="button" (click)="closeModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded mr-2">
          Cancelar
        </button>
        <button type="submit" [disabled]="companyForm.invalid" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
          Guardar
        </button>
      </div>

    </form>
  </div>
</div>
